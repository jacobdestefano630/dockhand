{{define "layout"}}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Dockhand</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto; margin:20px}
        table{border-collapse:collapse;width:100%}
        th,td{border:1px solid #ccc;padding:8px;text-align:left}
        th{background:#f6f6f6}
        .badge{font-size:12px;padding:2px 6px;border-radius:6px;background:#eee}
        .actions button{margin-right:6px}
    </style>
</head>
<body>
<h1>Dockhand</h1>
<div style="margin:10px 0;">
    <small class="badge">read-only by default Â· actions available</small>
    {{if .GrafanaURL}} <a href="{{.GrafanaURL}}" target="_blank" style="margin-left:10px;">Grafana</a>{{end}}
</div>

<table>
    <thead>
    <tr><th>Name</th><th>ID</th><th>Image</th><th>Status</th><th>Ports</th><th>Actions</th><th>Logs</th></tr>
    </thead>
    <tbody id="rows"
           hx-get="/partials/rows"
           hx-trigger="load, every 5s"
           hx-target="#rows"
           hx-swap="outerHTML">
    {{template "rows" .Containers}}
    </tbody>
</table>

<script src="/static/htmx.min.js"></script>
</body>
</html>
{{end}}
